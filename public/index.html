<!doctype html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">	
    <meta name="apple-mobile-web-app-capable" content="yes" />

    <title>Apocalypse Node</title>
    
    <link rel="stylesheet" href="resources/css/syntaxhighlighter/shCore.css" type="text/css" />
    <link rel="stylesheet" href="resources/css/syntaxhighlighter/shThemeDefault.css" type="text/css" />
    
    <link rel="stylesheet" href="resources/css/xero.css" type="text/css" />
    
    <link rel="icon" href="resources/images/favicon.png" type="image/png" />
</head>
<body>

<div id="presentation" style="display:none;">

	<div class="slide rounded blue">
		<section class="middle">
			<ul>
				<li>Craig Walker</li>	
				<li>Xero CTO</li>	
				<li>@storminwalker</li>
			</ul>
			<img src="resources/images/xero_logo_white.png" style="position:absolute;right:35px;bottom:25px;" />
    	</section>
    </div>

    <div class="slide"> 
    	<section class="middle">
    		<img src="resources/images/apocnode.jpg" />
    	</section>
	</div>    
	
	<div class="slide"> 
    	<section class="middle">
	    	<img src="resources/images/90percentbad.jpg" />
			<div class="ribbon left">
				<span>90% bad...</span>
			</div>
    	</section>
	</div>    
	
	<div class="slide rounded">
		<header>
			<h1>SSJS has been around for a while...</h1>
		</header>
		<section>
			<ul>
				<li>LiveWire</li> 
				<li>Narwhal</li>
				<li>Axiom</li>
				<li>Aptana Jaxer</li>
				<li>GromJS</li>
				<li>Juice</li>
				<li>RingoJS</li>
				<li>Torino</li>
			</ul>
		</section>
	</div>
	
	<div class="slide rounded" style="background:#22252A">
		<section class="middle">
			<img src="resources/images/node_turtle.png" />
		</section>
	</div>
	
    <div class="slide rounded blue">
    	<section class="middle">
    		<h1 style="padding:100px;font-size:8em">Runs on Google's V8</h1>
        </section>
    </div>
    
    <div class="slide rounded blue noanimation">
    	<section class="middle">
    		<h1 style="padding:100px;font-size:8em;">Runs on Google's V8</h1>
    		<img src="resources/images/truck-nuts.png" style="position:absolute;right:250px;top:410px;" />
        </section>
    </div>
    
    <div class="slide rounded blue">
    	<section class="middle">
    		<h1 style="padding:50px;">JavaScript is the language best suited to the goals of Node</h1>
        </section>
    </div>
    
    <div class="slide rounded blue">
        <section class="middle">
            <ul>
            	<li>Non-blocking I/O</h1> 
            	<li>&#160;</li>
            	<li>Evented I/O</h1>
			</ul>
        </section>
    </div>
    
    <div class="slide"> 
    	<section class="middle">
    		<img src="resources/images/xero-dashboard.png" />
    	</section>
	</div>   
	
    <div class="slide rounded">
          <section class="">
            <img src="resources/images/xero-arch.png" style="position: absolute;top: 80px;left: -10px;" />
          </section>
    </div>
    
    <div class="slide rounded noanimation">
	  <section class="">
		<img src="resources/images/xero-arch2.png" style="position: absolute;top: 97px;left: -10px;" />
    	</section>
    </div>
    
    <div class="slide rounded">
    	<header>
    		<h1>The Event Loop</h1>
    	</header>
    	<section class="middle">
			<img src="resources/images/event-loop.png" />
	  	</section>
    </div>
    
    <div class="slide rounded">
    	<section class="middle">
<pre class="brush: javascript;"> 
	 // synchronous 
	var result = db.query("select * from table"); 
	// use result...
	 
	// asynchronous 
	db.query("select * from table", function (result) { 
		// use result...
	}); 
</pre>
    	</section>
    </div>
    
    
    <div class="slide rounded">
    	<section class="middle">
<pre class="brush: xhtml;">
     <input id="yada" type="button" value="Touch me" />
</pre>
<pre class="brush: javascript;"> 
	&lt;script type="text/javascript"&gt;
	
		$("#yada").click(function() {
        	console.log("Don't touch me...");
        });
    
    &lt;/script&gt;
</pre>
    	</section>
    </div>
    
     <div class="slide rounded blue">
    	<section class="middle">
        	<h1>Node is not a web framework</h1>
        </section>
    </div>
    
    <div class="slide rounded blue noanimation">
        <section class="middle">
            <h1>Node is about custom, scalable, networked servers</h1>
        </section>
    </div>
    
    <div class="slide rounded blue">
        <section class="middle">
            <h1>"All programs are pipes that take input, modify it, & output something else"</h1>
            <em>@ryah (inventor of Node)</em>
        </section>
    </div>
    
    <div class="slide rounded node">
		<section class="middle">
			<img src="resources/images/node-logo.png" />
			
<pre class="brush: bash;"> 
	brew install node
</pre>
			<div>
				<a href="https://github.com/joyent/node/wiki/Installation" target="_blank">https://github.com/joyent/node/wiki/Installation</a>
			</div>
		</section>
	</div>
	 
	<div class="slide rounded">
    	<section class="middle">
<pre class="brush: csharp;"> 
	// c# - synchronous
	System.Console.WriteLine("I'm Owen...");
	System.Threading.Thread.Sleep(2000);
	System.Console.WriteLine("...from Wales!");
</pre>
<br />
<pre class="brush: javascript;"> 
	// node.js - asynchronous
	setTimeout(function() {
		console.log("...from Wales!");
	}, 2000);
	
	console.log("I'm Owen...");
</pre>
    	</section>
    </div>
	 
	 
	<div class="slide rounded">
    	<section class="middle">
<pre class="brush: javascript;"> 
	var http = require("http");
	
	var server = http.createServer(function(req, res) {
		res.writeHead(200, {
			"Content-Type": "text/html"
		});
		res.end("<html><body><h1>Hello WDCNZ!!!</h1></body></html>\n");
	});
	
	server.listen(4001);
</pre>
    	</section>
    </div>
    
    <div class="slide rounded">
    	<section class="middle">
<pre class="brush: javascript;"> 
	var net = require("net");
	
	var server = net.createServer(function(socket) {
		socket.on("data", function(data) {
			socket.write(data);
		});
	});
	
	server.listen(4002);
</pre>
    	</section>
    </div>

<div class="slide rounded">
    	<section class="middle">
<pre class="brush: javascript;"> 
	var tty = require("tty"), 
		net = require("net");
		
	var server = net.createServer(function(socket) {
		var shell = tty.open("/bin/bash");
		
		var bashSocket = shell[0];
		bashSocket.pipe(socket);
		socket.pipe(bashSocket);
		
		var childProcess = shell[1];
		childProcess.on("end", function() {
			socket.close();
		});
	});
	
	server.listen(4003);
</pre>
    	</section>
    </div>

    <div class="slide rounded">
    	<section class="middle longcode">
    	<!--highlight: [1, 3]-->
<pre class="brush: javascript;"> 
var http = require("http"), qs = require("querystring");

var search = function(searchFor) {
	searchFor = searchFor.substring(0, searchFor.length - 1);
	var google = http.get({
		host: "ajax.googleapis.com",
		path: "/ajax/services/search/web?" + 
			qs.stringify({ v: "1.0", q: searchFor })
	}, function(response) { });
	
	google.on("response", function(response) {
		response.setEncoding("utf8");
		var body = [];
		response.on("data", function(chunk) { body.push(chunk); });
		response.on("end", function() {
			var searchResults = JSON.parse(body.join(""));
			var results = searchResults["responseData"]["results"];
			for (var i = 0, len = results.length; i < len; i++) {
				console.log(results[i]["url"]);
			}
		});
	});
};

stdin = process.openStdin();
stdin.setEncoding("utf8");
stdin.on("data", search);
</pre>
    	</section>
    </div>
    
    <div class="slide rounded">
    	<header>
    		<h1>Modules</h1>
    	</header>
    	<section class="middle">
    	<!--highlight: [1, 3]-->
<pre class="brush: javascript;"> 
	var util = require("util");
	
	var wdcnz = exports;
	
	var printName = function(name, from) {
		console.log("private");
		util.log("Hello " + name + " from " + from);
	}
	
	var print = function(name, from) {
		console.log("public");
		printName(name, from);
	}
	
	wdcnz.print = print;
</pre>
    	</section>
    </div>
    
    <div class="slide rounded">
    	<section class="middle">
    	<!--highlight: [1, 3]-->
<pre class="brush: javascript; highlight: [1, 3, 19]"> 
	var module = { exports: {} }; 
	
	(function(module, exports) { 
		var util = require("util");
		
		var wdcnz = exports;
		
		var printName = function(name, from) {
			console.log("private");
			util.log("Hello " + name + " from " + from);
		}
		
		var print = function(name, from) {
			console.log("public");
			printName(name, from);
		}
		
		wdcnz.print = print;
	})(module, module.exports); 
</pre>
    	</section>
    </div>
    
    <div class="slide rounded blue">
		<section class="middle">
        	<h1>Node is the first platform to be invented in the GitHub age</h1>
    	</section>
    </div>
    
    <div class="slide"> 
    	<section class="middle">
    		<img class="full-bg" src="resources/images/github-popularity.png" />
    	</section>
	</div>    
	
    <div class="slide rounded node">
    	<section class="middle">
			<img src="resources/images/npm.png" />
			
<pre class="brush: bash;"> 
	curl http://npmjs.org/install.sh | sh
</pre>
	
			<div>
				<h2 style="color:white;">2720 total packages</h2>
			</div>

	  	</section>
    </div>
    
    <!--<div class="slide rounded">
    	<header> 
			<h1>Let me show you my package</h1> 
		</header> 
		<section>
<pre class="brush: javascript">
{
  	"name": "node-wdcnz",
  	"description": "I love showing my package",
  	"author": "Craig Walker &lt;craig@xero.com&gt;",
  	"homepage": "http://wdcnz.com",
  	"dependencies": {
    	"node-extjs": "0.x.x",
    	"express": "2.3.x",
    	"socket.io": "0.7.x"
  	},
  	"devDependencies": {
    	"vows": "0.5.x"
  	},
	"engine": "node >= 0.4.9"
}
</pre>
			
    	</section>
    </div>-->
    
    <div class="slide rounded">
    	<header> 
			<h1>socket.io</h1> 
		</header> 
		<section class="longcode">
<pre class="brush: bash">
	npm install socket.io
</pre>

<h3>Server</h3>
<pre class="brush: javascript">
var io = require("socket.io").listen(8080);

io.sockets.on("connection', function (socket) {
	socket.emit("event", { name: "Owen", from: "Wales" });
  	socket.on("hello", function (message) {
		socket.broadcast.emit(message);
  	});
});
</pre>

<h3>Client</h3>
<pre class="brush: javascript">
&lt;script src="/socket.io/socket.io.js"&gt;&lt;/script&gt;
&lt;script&gt;
	var socket = io.connect("http://localhost", { port: 8080 });
  	socket.on("event", function (data) {
    	console.log(data);
    	socket.emit("hello", { name: "Jeff", from: "US" });
  	});
&lt;/script&gt;
</pre>

    	</section>
    </div>
    
     <div class="slide rounded map">
    	<section class="middle">
			<div id="map-container">
			
			</div>
    	</section>
    </div>
    
    <div class="slide rounded">
    	<header> 
			<h1>express</h1> 
		</header> 
		<section>
<pre class="brush: bash">
	npm install express
</pre>
			<ul>
				<li>Built on Connect, inspired by Sinatra</li>
				<li>RESTful routing</li>
				<li>Cookies, sessions, caching, static files etc</li>
				<li>Templating, partials, asynchronous rendering</li>
				<li>Pluggable</li>
			</ul>
		</section>
	</div>
    
    <div class="slide rounded">
    	<header> 
			<h1>express</h1> 
		</header> 
		<section>
<pre class="brush: javascript">
	var app = require("express").createServer();

	app.get("/", function(request, response) {
		response.redirect("/hello/wdcnz");
	});
	
	app.get("/hello/wdcnz", function(request, response) {
		response.send("Hello WDCNZ!");
	});
	
	app.listen(4005);
</pre>		
    	</section>
    </div>
    
 <!--    
    <div class="slide rounded">
    	<header> 
			<h1>jsdom</h1> 
		</header> 
		<section>
<pre class="brush: javascript">
var argv = require("optimist").argv,
	fs = require("fs"),
	jsdom = require("jsdom");

var filePath = argv.h;

fs.readFile(filePath, "utf8", function(err, html) {
	var doc = jsdom.jsdom(html);
	var window = doc.createWindow();
	
	jsdom.jQueryify(window, "jquery.js", function() {
		var $ = window.$;
		$("h1").each(function() {
			console.log($(this).text());
		});
	});
});
</pre>
    	</section>
    </div>
    
	<div class="slide rounded">
    		<header> 
			<h1>forever</h1> 
		</header> 
		<section>
<pre class="brush: bash">
	npm install forever
</pre>

<h3>Usage</h3>
<pre class="brush: bash">
$ forever start -o info.log -e error.log server.js

$ forever list
	[0] node server.js [61357, 61356] 
		/Users/craigwalker/.forever/qRn4.log 0:0:0:7.378

$ forever stopall
</pre>
		</section>
	</div>-->
  
    <div class="slide rounded blue">
		<section class="middle">
        	<h1>Debugging</h1>
    	</section>
    </div>
    
    <div class="slide rounded blue noanimation">
		<section class="middle">
        	<h1>Debugging kinda sucks</h1>
        </section>
    </div>
    
    <div class="slide rounded">
    		<header> 
			<h1>node-inspector</h1> 
		</header> 
		<section>
<pre class="brush: bash">
	npm install node-inspector
</pre>
<img src="resources/images/node-inspector.png" style="position:absolute;top:155px;right:126px;"/>
		</section>
	</div>
  
    <div class="slide rounded blue">
		<section class="middle">
        	<h1>When to Node?</h1>
    	</section>
    </div>
  
	<div class="slide rounded blue">
		<section class="middle">
        	<h1>Real-Time Apps</h1>
    	</section>
    </div>
  
	<div class="slide rounded blue">
		<section class="middle">
        	<h1>Asynchronous Apps</h1>
    	</section>
    </div>
    
    <div class="slide rounded blue">
		<section class="middle">
        	<h1>Online Gaming</h1>
    	</section>
    </div>
    
    <div class="slide rounded blue">
		<section class="middle">
        	<h1>Analytics & Logging</h1>
    	</section>
    </div>
  
    <div class="slide rounded blue">
		<section class="middle">
        	<h1>Single-Page Apps</h1>
    	</section>
    </div>
    
    <div class="slide rounded"> 
    	<section class="middle">
    		<img src="resources/images/scott-guthrie.png" />
    	</section>
	</div>  
    
    <div class="slide rounded blue">
		<section class="middle">
			<img src="resources/images/xero_logo_white.png" />
        	<h1>Questions?</h1>
        	<em style="color:yellow;text-shadow: 1px 0 2px rgba(0, 0, 0, 0.3);">http://xero.com/careers</em>
    	</section>
    </div>
    
</div>
	
	<!-- google maps V3 --->
	<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script> 
    
    <!-- socket.io -->
    <script type="text/javascript" src="lib/socket.io.js"></script> 
    
    <!-- sencha touch all -->
    <script type="text/javascript" src="lib/sencha-touch-debug.js"></script>
    
	<!-- slides app -->
	<script type="text/javascript" src="app/routes.js"></script>
	
	<script type="text/javascript" src="app/app.js"></script>
	
	<script type="text/javascript" src="app/utils/socket.js"></script>
	
	<script type="text/javascript" src="app/views/viewport.js"></script>
	<script type="text/javascript" src="app/views/presentation.js"></script>
	<script type="text/javascript" src="app/views/map.js"></script>
	<script type="text/javascript" src="app/controllers/presentation.js"></script>
	
	<!-- syntax highlighter -->
	<script src='/lib/syntaxhighlighter/shCore.js' type='text/javascript'></script> 
	<script src='/lib/syntaxhighlighter/shBrushBash.js' type='text/javascript'></script> 
	<script src='/lib/syntaxhighlighter/shBrushJScript.js' type='text/javascript'></script> 
	<script src='/lib/syntaxhighlighter/shBrushXml.js' type='text/javascript'></script> 
	<script src='/lib/syntaxhighlighter/shBrushPlain.js' type='text/javascript'></script> 
	<script src='/lib/syntaxhighlighter/shBrushCSharp.js' type='text/javascript'></script> 

	<script type="text/javascript">
		SyntaxHighlighter.defaults["toolbar"] = false;
		SyntaxHighlighter.defaults["gutter"] = false;
		SyntaxHighlighter.all();
	</script> 

</body>
</html>